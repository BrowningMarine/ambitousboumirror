"use client";

import React, { useMemo } from "react";
import {
  Home,
  User,
  Settings,
  Search,
  Heart,
  Star,
  Mail,
  Phone,
  Calendar,
  Clock,
  MapPin,
  Camera,
  Download,
  Upload,
  Edit,
  Trash2,
  Save,
  Share,
  Copy,
  Scissors,
  Undo,
  Redo,
  ZoomIn,
  Move,
  RotateCw,
  Lock,
  Unlock,
  Eye,
  EyeOff,
  Shield,
  Key,
  Bell,
  Flag,
  Tag,
  Bookmark,
  Link,
  Unlink,
  Send,
  Reply,
  Forward,
  Archive,
  Inbox,
  File,
  Folder,
  Image,
  Video,
  Music,
  FileText,
  Code,
  Terminal,
  Database,
  Server,
  Cloud,
  Wifi,
  Bluetooth,
  Battery,
  Power,
  Play,
  Pause,
  Square,
  SkipForward,
  Volume2,
  VolumeX,
  Mic,
  MicOff,
  Plus,
  Minus,
  X,
  Check,
  ArrowRight,
  ChevronUp,
  ChevronDown,
  ChevronLeft,
  ChevronRight,
  Triangle,
  Circle,
  Diamond,
  Hexagon,
  Award,
  Trophy,
  Medal,
  Crown,
  Gem,
  Coins,
  CreditCard,
  DollarSign,
  Euro,
  Banknote,
  Wallet,
  PiggyBank,
  TrendingUp,
  TrendingDown,
  BarChart3,
  PieChart,
  LineChart,
  Activity,
  Zap,
  Coffee,
  Apple,
  Utensils,
  Pizza,
  Wine,
  Car,
  Bike,
  Bus,
  Train,
  Plane,
  Ship,
  Rocket,
  Globe,
  Mountain,
  TreePine,
  Flower,
  Sun,
  Moon,
  CloudRain,
  Snowflake,
  Umbrella,
  Rainbow,
  Flame,
  Droplet,
  HelpCircle,
} from "lucide-react";

// Direct array of icon components - this ensures they actually exist
const ICON_COMPONENTS = [
  Home,
  User,
  Settings,
  Search,
  Heart,
  Star,
  Mail,
  Phone,
  Calendar,
  Clock,
  MapPin,
  Camera,
  Download,
  Upload,
  Edit,
  Trash2,
  Save,
  Share,
  Copy,
  Scissors,
  Undo,
  Redo,
  ZoomIn,
  Move,
  RotateCw,
  Lock,
  Unlock,
  Eye,
  EyeOff,
  Shield,
  Key,
  Bell,
  Flag,
  Tag,
  Bookmark,
  Link,
  Unlink,
  Send,
  Reply,
  Forward,
  Archive,
  Inbox,
  File,
  Folder,
  Image,
  Video,
  Music,
  FileText,
  Code,
  Terminal,
  Database,
  Server,
  Cloud,
  Wifi,
  Bluetooth,
  Battery,
  Power,
  Play,
  Pause,
  Square,
  SkipForward,
  Volume2,
  VolumeX,
  Mic,
  MicOff,
  Plus,
  Minus,
  X,
  Check,
  ArrowRight,
  ChevronUp,
  ChevronDown,
  ChevronLeft,
  ChevronRight,
  Triangle,
  Circle,
  Diamond,
  Hexagon,
  Award,
  Trophy,
  Medal,
  Crown,
  Gem,
  Coins,
  CreditCard,
  DollarSign,
  Euro,
  Banknote,
  Wallet,
  PiggyBank,
  TrendingUp,
  TrendingDown,
  BarChart3,
  PieChart,
  LineChart,
  Activity,
  Zap,
  Coffee,
  Apple,
  Utensils,
  Pizza,
  Wine,
  Car,
  Bike,
  Bus,
  Train,
  Plane,
  Ship,
  Rocket,
  Globe,
  Mountain,
  TreePine,
  Flower,
  Sun,
  Moon,
  CloudRain,
  Snowflake,
  Umbrella,
  Rainbow,
  Flame,
  Droplet,
];

// Simple seeded random number generator
const seededRandom = (seed: string): number => {
  let hash = 0;
  for (let i = 0; i < seed.length; i++) {
    const char = seed.charCodeAt(i);
    hash = (hash << 5) - hash + char;
    hash = hash & hash; // Convert to 32-bit integer
  }
  return Math.abs(hash);
};

interface RandomizeIconsProps {
  seed: string;
  size?: number;
  className?: string;
  color?: string;
  strokeWidth?: number;
}

const RandomizeIcons: React.FC<RandomizeIconsProps> = ({
  seed,
  size = 24,
  className = "",
  color,
  strokeWidth = 2,
}) => {
  // Memoize the icon selection to avoid recalculation on every render
  const SelectedIcon = useMemo(() => {
    // Generate consistent random index based on seed
    const randomNumber = seededRandom(seed);
    const iconIndex = randomNumber % ICON_COMPONENTS.length;

    // Return the selected icon component directly
    return ICON_COMPONENTS[iconIndex] || HelpCircle;
  }, [seed]);

  return (
    <SelectedIcon
      size={size}
      className={className}
      color={color}
      strokeWidth={strokeWidth}
    />
  );
};

export default RandomizeIcons;
